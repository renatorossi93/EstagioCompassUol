# Histórias de usuário: Desmitificando a escrita de User Story

O que implica a escrita de histórias de usuário? Quais os pontos devem ser observados? Qual deve ser nosso foco? Como escrever boas histórias de usuário? Existe algum template para escrita? Se você também tem esses questionamentos e busca essas respostas, vem comigo que vamos desmistificar esse assunto!

### Estória ou História de usuário?

É comum encontrarmos os termos ‘estória de usuário’ e ‘história de usuário’, quando estamos falando da escrita de features, e sabemos ambas derivam da expressão em inglês user story; mas qual será a expressão correta?

Na língua inglesa, temos a diferença entre os conceitos de história real (que realmente aconteceu) e história fictícia (fruto da nossa imaginação), sendo representados pelas palavras, history e story respectivamente.

No português, durante algum tempo também existia essa diferença que era representada pelas palavras história (real) e estória (ficção), porém a palavra estória caiu em desuso na nossa gramática e passamos a utilizar somente a palavra história, representando os dois contextos (realidade ou ficção).

Resumindo, podemos dizer que para tradução e uso da terminologia user story em português, seguindo as regras gramaticais atuais de nossa língua **o correto é que usemos a expressão ‘história de usuário’.**

### Por que escrever histórias de usuário?

Podemos dizer que, para o desenvolvimento de um produto, precisamos orientar nosso time sobre qual a nossa necessidade enquanto negócio, ou seja, o que deve ser construído. Mas dizer somente o que precisamos construir, muitas vezes não se mostra suficiente para o desenvolvimento da melhor solução, pois pode gerar muitas formas de interpretação pelo time impactando na entrega final ao usuário.

Precisamos então fornecer mais informações para contextualizar nossos desenvolvedores, para isso é preciso dizer a eles para quem eles irão desenvolver alguma funcionalidade: Quem é o meu usuário? Como ele é? Quais as suas dores e necessidades? Além disso, é preciso trazer também o por quê meu usuário deseja aquilo: o que ele espera alcançar com aquela solução? Qual sua expectativa e resultado esperado?

De uma forma geral, podemos dizer que a escrita das histórias de usuário funcionam como uma narrativa sobre o quê, para quem e porque entregar aquela funcionalidade. É um direcionador ao desenvolvimento!

### Existe um padrão de escrita na história de usuário?

Quando falamos em escrita de histórias de usuário, nos deparamos com alguns modelos mais utilizados (templates) pelos profissionais de produto. Isso nos conduzem a uma melhor representação da necessidade do negócio em uma escrita mais direcionada das features. Aliados a esses modelos, **existem também algumas técnicas utilizadas, como o 3W – who (quem)/ what (o quê)/ why (por que) –; e a técnica do 3C – card (cartão)/ conversation (conversa)/ confirmation (confirmação).**

### Template para escrita de User Story

[Templatedehistoriadousuario](assets/image-3.jpeg)

### Refinando uma história de usuário

Toda user story que entra em fila de priorização do backlog deve passar por um processo de refinamento, onde ela é melhor detalhada pelo Product Owner e o time. Isso ocorre para, além de eliminar incertezas, o time possam ter mais entendimento do que deve ser feito para atender àquela necessidade, até mesmo avaliar se ela ainda faz ou não sentido para o contexto atual do produto.

Nesse sentido, é importante entender que as vezes pode ser necessário a quebra das User Story em itens menores para entrega de valor em menor período de tempo ao usuário. Para atender aquela proposta de valor apresentada inicialmente, pode demorar muito tempo até o usuário conseguir enxergar de fato o seu valor.  Assim a quebra atua de forma a gerar valor ao entregar partes menores da feature principal, mas que façam sentido ao usuário.

Ainda nesse contexto, existem alguns pontos que devem ser definidos e técnicas que podem ser utilizadas para auxiliar nesse processo de refinamento. Vamos a eles!

### Técnica INVEST

[investuserstory](assets/image-4.jpeg)

### Critérios de Aceitação (Acceptance Criteria)

Na escrita das histórias, também devemos possuir os critérios de aceitação. Eles são como checklists que devem ser repassados para garantir que aquela história esteja entregando o que foi pedido e planejado em sua definição, em caráter de funcionalidade para entrega de valor ao usuário. Os critérios de aceitação funcionam como uma forma de detalhamento maior sobre o que deve ser entregue naquela história, auxiliando também os desenvolvedores na definição e planejamento dos testes.

Portanto, não existe uma forma correta de escrita desses critérios de aceitação. Eles podem ser em forma de tópicos ou mesmo através da descrição de possíveis cenários de uso do usuário.

### Definição dos cenários em histórias de usuário

[cenariosuserstory](assets/image-5.jpeg)

### Definição das tarefas para a histórias de usuário (Tasks)

Para as histórias de usuários, o time também deve definir as tarefas (tasks) que fazem parte daquela história, ou seja, quais as tarefas são necessárias para a construção daquela feature. Este ponto do refinamento da história é mais a nível de desenvolvimento, trazendo em uma linguagem mais direta o que precisa ser feito, na maioria das vezes, de forma técnica. Normalmente, o próprio time de desenvolvimento as define.

Exemplificando um pouco melhor sobre as tasks para o exemplo apresentado:

Task 1 – Criar perfil de usuário ‘’vendedor’’;
Task 2 – Criar permissão de geração de relatório;
Task 3 – Criar permissão de ‘’Relatório de Produtos em Estoque’’.
Não existe uma regra quanto à forma que as tasks devem ser descritas, mas o principal é que elas sejam objetivas e claras, como uma espécie de roteiro de implementação.

Observação: devemos estar atentos às definições das tasks para que elas não sejam muito grandes. Pois, talvez, devemos transformá-las em uma nova user story. Ou seja, fazer uma quebra da história principal (como discutimos alguns tópicos acima).

### Criação das interfaces com o usuário

Por último, dependendo da história a ser construída, pode ser necessário a representação de interfaces do sistema com o usuário. 

Estas representações podem vir em baixa fidelidade (rabiscoframes, papel), em média fidelidade (wireframes) ou alta fidelidade (protótipos navegáveis ou não), desenvolvidas pela sua equipe de design UX/UI.

### Como incluir o Refinamento na minha rotina de  trabalho?

Devemos ter muita clareza da importância em se realizar o refinamento das user story. E isso normalmente ocorre em dois momentos principais durante a sua definição para construção:

Refinamento de negócio;
Refinamento funcional e técnico.
Como sugestão para realização desse rito, é que exista uma cadência deles durante o andamento da sprint (esta cadência e o tempo de duração do rito, vai ser de acordo com a necessidade do seu time), crie eventos recorrentes! O objetivo principal é que utilizemos esse momento para um real entendimento das histórias que estamos construindo e eliminemos todas as dúvidas do time.

Neste rito é sempre importante a presença do Product Owner/ Product Manager, um desenvolvedor e um Product Design (de acordo com a configuração do seu time); cito isso pois assim você terá a visão de negócio, técnica e de experiência do usuário, conseguindo mitigar os riscos do produto de forma mais assertiva.

Outro ponto importante é trazer visibilidade desse processo para o time: inclua as tarefas de refinamento no kanban do seu time! Se planeje e organize as histórias que irá levar para o refinamento nos ritos, de acordo com as prioridades definidas para as sprints. Uma forma saudável é sempre estar com os itens das duas próximas sprints em processo de refinamento: da sprint seguinte em refinamento funcional e técnico e da sprint posterior em refinamento de negócio. Assim você sempre estará a frente do desenvolvimento, garantindo que quando as histórias entrarem para a trilha de delivery elas já estejam bem entendidas e com todos os critérios definidos para construção!

### Algumas dicas importantes sobre escrita de histórias de usuário

Algumas dicas que considero importantes para se atentar ao definir nossas user story:

- Defina suas personas – não utilize a palavra usuário generalizando sua história, você precisa direcionar a sua escrita para o seu público alvo. Você não está construindo para todos!

- Nem sempre você vai usar o modelo clássico/padrão – tudo vai variar dependendo da maturidade e do que faz sentido para o seu time de desenvolvimento. O importante é responder as perguntas: quem, o quê e por quê.

- Não se estenda muito na escrita – histórias de usuário são lembretes para uma conversa no futuro. É importante não adicionar muitos detalhes na escrita inicial. Se atente a fornecer apenas o que é preciso para que seja possível sua discussão no momento correto.

- Tenha a participação do seu cliente – o cliente deve contribuir com a escrita da história de usuário junto com o time. Isso deve ocorrer com a finalidade de garantir que ambos tenham entendido o conceito e o que se espera com aquela história.

- Utilize o acrônimo INVEST – isso garantirá que sua história esteja o mais completa possível, possibilitando maior entendimento do seu time, eliminando, assim, possíveis falhas ou retrabalho.

- Liste os critérios de aceitação – sempre tenha definido quais são as condições, restrições e as regras de negócio do produto.

- Descreva os cenários – Utilize a técnica BDD para descrever os cenários daquela história. É importante que os cenários de testes sejam mapeados, em âmbito de negócio e comportamento.

Devemos descrever as histórias de usuário de forma objetiva, ágil e simples. Contudo, não cabe atribuir a elas detalhes técnicos, ou definições de como serão feitas. Nosso objetivo é especificar de forma simples as funcionalidades que o sistema vai ter.

Existe uma metáfora que acho muito interessante, que é a metáfora da cebola, a qual descreve muito bem esse contexto:

Imagine uma cebola: Ela possui várias camadas até chegar ao seu núcleo. Imagine o produto sendo representado por esta cebola, e cada camada representa uma user story. O correto é que novas ideias sejam vistas como as camadas superficiais, onde não se entra em detalhes. Porém, à medida em que vamos nos aproximando do núcleo, essas histórias de usuários devem estar mais detalhadas e completas (refinadas), com todos os pontos que discutimos neste artigo (descrição, critérios de aceite, cenários de teste), pois estas, sim, estão próximas do seu desenvolvimento e entrega para o usuário. 

### Não existe receita de bolo

É importante dizer que não existe forma correta ou melhor para se escrever e refinar uma user story. Existe o que é funcional para o seu time! Esse modelo que trouxe neste artigo é um direcionador para que você se atente à forma de escrita. O que vale é que quando for realizar a escrita de uma história de usuário, ***se preocupe em responder a essas três perguntas: Para quem? o quê? e por quê?. É isso que vai garantir o entendimento da sua história e sua construção de forma mais assertiva.*** Avalie o que faz sentido para o seu time de desenvolvimento!

Inicialmente, preocupe-se em entender o contexto do usuário e do negócio e trazer isso de forma clara para o seu time ou qualquer outra pessoa que acesse essa história de usuário, em nível de negócio e não em termos técnicos ou dizendo como fazer.

# Não confunda DoR, DoD e Critérios de Aceite

É comum no dia a dia ouvirmos falar muito sobre alguns conceitos, mas nem sempre temos certeza sobre a correta definição e aplicação de cada um deles.

Existem três conceitos que são muito comuns que haja confusão, o Definition of Ready (DoR), Definition of Done (DoD) e os Critérios de Aceite.

Depois que eu te explicar aqui, tenho certeza que você nunca mais vai errar e vai, inclusive, considerar fortemente o uso deles no seu dia a dia 😁

### Definition of Ready (DoR)

É um acordo de trabalho entre o time de Desenvolvimento e o Product Owner, aplicado a todas as Histórias de Usuário, com a intenção de que os itens do Backlog não cheguem para a reunião de planejamento com granularidade ruim, pouco ou nenhum detalhamento.

**Antes que um item do Backlog entre para a Sprint o time deve garantir que ele esteja atendendo aos critérios de “Ready”, em termos de estarem suficientemente bem descritos e compreendidos por todo time de desenvolvimento, para que eles tenham condições suficiente para planejá-lo em uma Sprint e estabelecer um compromisso em relação à sua implementação.**

É preciso disciplina para reservar até 10% do tempo da Sprint para que o Product Backlog seja preparado adequadamente com a finalidade de reduzir o impacto de itens mal especificados, que muitas vezes fazem com que os times façam um planejamento de baixa qualidade e que sejam surpreendidos ao longo da sprint com descobertas sobre um item, gerando necessidade de mudanças na implementação e impactando os objetivos da sprint.

[DoR](assets/image-6.jpg)

### Definition of Done (DoD)

É um acordo genérico, definido pelos membros do time Scrum (Desenvolvedores e Product Owner), aplicável a todas as Histórias de Usuário, com o intuito de que todos os membros do time tenham um entendimento compartilhado do que significa “Done” para garantir a transparência. Ou seja, uma lista de verificação de atividades necessárias para que um incremento de software seja considerado como completo.

[DoD](assets/image-7.png)

### Critérios de Aceite

Já, os critérios de aceite, ou critérios de aceitação, são específicos e diferentes para diferentes Histórias de Usuário.

Os critérios de aceitação têm o objetivo de:

- Definir limites para as user stories
- Ajudar o P.O. a detalhar em alto nível o que é necessário para entregar valor ao cliente
- Ajudar o time a entender melhor o objetivo da user story
- Ajudar programadores e testadores a planejarem os testes
- Informar ao programador quando parar de adicionar funcionalidades à user story

**Bons critérios de aceitação:**

- São escritos com menor nível de detalhamento
- São independente de implementação
- Definem o que fazer e não como fazer

**Exemplos:**

User Story

Como um operador de marcação de consulta

Eu gostaria de visualizar a agenda de consultas dos médicos

Para saber quais horários estão disponíveis para novas marcações.

Critérios de aceitação

- Eu quero ter opções de visualização da agenda por dia, semana e mês.
- Eu quero visualizar a agenda de consultas do mês atual e do mês posterior.
- Cada consulta agendada deve mostrar o nome e o convênio do paciente

### Exemplos e FAQ

[DoR,DoD, e critérios de aceitação](assets/image-8.jpeg)